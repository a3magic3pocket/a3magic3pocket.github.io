---
title: 오라클 클라우드 로드밸런서 생성 및 적용하기
date: 2025-03-31 23:14:03 +0900
categories: [Oracle-cloud]
tags: [oracle-cloud, loadbalancer, summary]    # TAG names should always be lowercase
---

## 설명
- 로드밸런서를 생성하고 기존에 생성한 VM을 백엔드로 지정한다.  
- 로드밸런서에서 HTTP 요청을 받아 백엔드로 전달하는 예시를 작성한다.  

## 로드밸런서 생성
- (검색창에서)로드 밸런서 검색 후 선택  
- (로드 밸런서 본문에서) "로드 밸런서 생성" 버튼 클릭  
- (로드 밸런서 생성 - 세부정보 추가에서)  
    - 로드 밸런서 이름  
        - 원하는 이름 입력  
    - 가시성 유형 선택  
        - 인터넷에 노출할 것이므로 퍼블릭 선택  
    - 퍼블릭 IP 주소 지정  
        - 임시 IP 주소 선택  
    - 대역폭  
        - 기본값 사용  
        - 최소 대역폭 선택  
            - 10  
        - 최대 대역폭 선택  
            - 10  
    - 네트워킹 선택 > 가상 클라우드 네트워크  
        - 백엔드로 설정할 VM이 있는 VCN 선택  
    - 네트워킹 선택 > 서브넷 선택  
        - 로드 밸런서 용 서브넷을 만들어두었다면 선택  
        - 없다면 VM이 있는 서브넷 선택  
    - 관리  
        - 컴파트먼트 루트 선택  
    - "다음" 버튼 클릭  
- (로드 밸런서 생성 - 백엔드 선택)  
    - 로드 밸런싱 정책 지정  
        - 정책 설명  
            - 라운드 로빈  
                - 매 요청마다 백엔드를 라운드 로빈에 의하여 선택  
            - IP 해시  
                - 특정 클라이언트 요청이 항상 동일 백엔드로 전달  
            - 최소 접속  
                - 새 요청이 접속 수가 가장 적은 백엔드로 전달  
        - 무난한 라운드 로빈 선택  
    - 백엔드 서버 선택  
        - 컴파트먼트 루트 선택  
        - 인스턴스 선택  
            - "인스턴스 추가" 버튼 클릭  
            - (백엔드 추가 본문에서) 원하는 백엔드 선택 후   
              "인스턴스 추가" 버튼클릭  
        - 포트  
            - 요청을 전달하고자 하는 포트 입력  
            - 예시에서는 HTTP이니 80 선택  
            - 백엔드 서버 인바운드 보안목록에서   
              10.0.0.0/16, TCP, 80이 허가되어 있어야하나  
              백엔드 서버 서브넷과 로드밸런서 서브넷이 같다면   
              뒤에서 자동 생성할 수 있다.  
    - 건정성 검사 정책 지정  
        - 프로토콜  
            - 원하는 프로토콜 선택  
            - 예시에서는 HTTP 선택  
        - 포트  
            - 80  
        - URL 경로  
            - 백엔드 서버에서 Http Status Code 200을 응답하는 경로를 설정한다.  
            - 예시에서는 /health-check 라고 가정  
    - 백엔드 집합 > 백엔드 집합 이름  
        - 원하는 이름 선택  
    - 보안 목록  
        - 자동으로 보안 목록 규칙 추가  
            - 송신 보안 목록  
                - 백엔드 서버 서브넷 송신 보안 목록 선택  
            - 수신 보안 목록  
                - 백엔드 서버 서브넷 송신 보안 목록 선택  
    - 세션 지속성  
        - 세션 지속성을 설정하면 세션에 의거하여 로드밸런서가  
          기존 요청과 동일한 백엔드 서버로 요청을 전달하도록 할 수 있다.  
        - 애플리케이션 쿠키 지속성을 사용  
            - 백엔드 서버 애플리케이션에서 이미 사용하고 있는 쿠키가 있다면  
              해당 쿠키 명을 입력한다.  
        - 로드 밸런서 쿠키 지속성을 사용  
            - 로드밸런서에서 요청마다 쿠키를 할당하게 한다.  
        - 애플리케이션에서 별도의 쿠키를 사용하지 않는다면   
          "로드 밸런서 쿠키 지속성을 사용"를 선택  
    - "다음" 버튼 클릭  
- (로드 밸런서 생성 - 리스너 구성)  
    - 리스너 이름  
        - 원하는 이름 선택  
    - 리스너가 처리하는 트래픽의 유형 지정  
        - HTTP 선택  
        - HTTPS는 로드밸런서 생성 후에 설정할 것이다.  
    - 수신 트래픽에 대해 리스너가 모니터하는 포트 지정  
        - 80  
    - "다음" 버튼 클릭  
    - 고급 SSL 이 보인다면 무시한다. HTTP라 SSL을 설정할 필요 없다.  
- (로드 밸런서 생성 - 로깅 관리)  
    - 프로덕션으로 운영 중이면 사용을 고려할 수 있다.  
    - 실험용이라면 비용이 나올 수 있으니 사용 안 함을 선택한다.  
- (로드 밸런서 생성 - 검토 및 생성)  
    - 확인 후 문제 없으면 "제출" 버튼 클릭  
