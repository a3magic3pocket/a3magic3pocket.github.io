<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="nginx, AWS cloudfront로 리버스 프록시 설정 에러" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="현상 기존 CDN을 AWS cloudfront + s3 CDN(이하 cloudfront)으로 변경하였다. proxy_pass 경로를 기존 CDN URL에서 cloudfront URL로 변경하였지만 포워딩 되지 않고 에러가 발생하였다." /><meta property="og:description" content="현상 기존 CDN을 AWS cloudfront + s3 CDN(이하 cloudfront)으로 변경하였다. proxy_pass 경로를 기존 CDN URL에서 cloudfront URL로 변경하였지만 포워딩 되지 않고 에러가 발생하였다." /><link rel="canonical" href="https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/" /><meta property="og:url" content="https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/" /><meta property="og:site_name" content="의사줌치" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-09-26T22:03:12+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="nginx, AWS cloudfront로 리버스 프록시 설정 에러" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"현상 기존 CDN을 AWS cloudfront + s3 CDN(이하 cloudfront)으로 변경하였다. proxy_pass 경로를 기존 CDN URL에서 cloudfront URL로 변경하였지만 포워딩 되지 않고 에러가 발생하였다.","url":"https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/"},"headline":"nginx, AWS cloudfront로 리버스 프록시 설정 에러","dateModified":"2024-02-19T12:18:35+09:00","datePublished":"2023-09-26T22:03:12+09:00","@context":"https://schema.org"}</script><title>nginx, AWS cloudfront로 리버스 프록시 설정 에러 | 의사줌치</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="의사줌치"><meta name="application-name" content="의사줌치"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-5NQ41XXW83"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-5NQ41XXW83'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/avatar-crop.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">의사줌치</a></div><div class="site-subtitle font-italic">부정확한 정보를 <br /> 담고 있을 수 있습니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/a3magic3pocket" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['a3magic3pocket','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>nginx, AWS cloudfront로 리버스 프록시 설정 에러</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>nginx, AWS cloudfront로 리버스 프록시 설정 에러</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> 의사줌치 </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Sep 26, 2023, 10:03 PM +0900" prep="on" > Sep 26, 2023 <i class="unloaded">2023-09-26T22:03:12+09:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Feb 19, 2024, 12:18 PM +0900" prefix="Updated " > Feb 19, 2024 <i class="unloaded">2024-02-19T12:18:35+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="573 words">3 min</span></div></div><div class="post-content"><h2 id="현상">현상</h2><ul><li>기존 CDN을 AWS cloudfront + s3 CDN(이하 cloudfront)으로 변경하였다.<li>proxy_pass 경로를 기존 CDN URL에서 cloudfront URL로 변경하였지만<br /> 포워딩 되지 않고 에러가 발생하였다.</ul><h2 id="에러">에러</h2><ul><li>원문<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>SSL: error:14094410:SSL routines:ssl3_read_bytes:sslv3 alert handshake failure:SSL alert number 40) while SSL handshaking to upstream  
</pre></table></code></div></div><li>에러 원문 후미에는 CDN 경로가 기록된다.<li>이상한 점은 분명 CDN 경로를 cloudfront 도메인으로 입력하였는데 <br /> ip로 시도한 것으로 로깅되고 있었다.<br /> ex) https://my.cloudfront.com/my/image/ -&gt; https://123.123.123.123/my/image/</ul><h2 id="해결">해결</h2><ul><li>방법<ul><li>nginx 설정에서 <br /> proxy_ssl_server_name를 on으로 변경하고 <br /> proxy host header를 CDN 도메인으로 등록해주자 에러가 해결되었다.</ul><li>원인<ul><li>nginx는 ip주소로만 연결할 수 있다고 한다.(<a href="https://serverfault.com/questions/915918/nginx-reverse-proxy-is-trying-to-access-backend-over-ip-instead-of-domain-name" target="_blank">참고</a>)<li>ip URL로 요청을 보내면 당연하게도 <br /> cloudfront 도메인 ssl 인증서를 이용한<br /> 핸드쉐이킹이 실패할 것이다.<li>cloudfront 도메인으로 Host header를 지정하여<br /> ssl 통신이 가능하게 해주면 된다.</ul><li>nginx 설정<div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="c"># default.conf  </span>
...  
 location ^~ /image/ <span class="o">{</span>  
   proxy_pass https://my.cloudfront.com/my/image/<span class="p">;</span>  
   proxy_ssl_server_name on<span class="p">;</span>  
   proxy_set_header Host my.cloudfront.com<span class="p">;</span>  
   proxy_set_header X-Real-IP <span class="nv">$remote_addr</span><span class="p">;</span>  
   proxy_set_header X-Forwarded-For <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>  
   proxy_set_header X-Forwarded-Proto https<span class="p">;</span>  
 <span class="o">}</span>  
...  
</pre></table></code></div></div></ul><h2 id="번외">번외</h2><ul><li>현상<ul><li>cloudfront CDN으로 포워딩은 되는데 <br /> 임시 buffer 파일을 생성했다는 warning 로그가 남는다.</ul><li>에러<ul><li>원문<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>*4 an upstream response is buffered to a temporary file /  
</pre></table></code></div></div></ul><li>원인<ul><li>proxy CDN에서 nginx로 응답을 받을 때<br /> 응답의 용량이 기본 메모리 버퍼보다 크기 때문에<br /> 디스크에 임시로 파일을 작성한 후 넘겼다는 의미이다.(<a href="https://bcdragonfly.tistory.com/70" target="_blank">참고</a>)<li>proxy buffer 용량을 충분히 크게 잡아주면<br /> 해당 warning 로그가 남지 않는다.</ul><li>nginx 설정<div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c"># default.conf  </span>
...  
 location ^~ /image/ <span class="o">{</span>  
   ...  
  <span class="c"># 프록시 버퍼를 16M 지정  </span>
   proxy_buffers 16 16M<span class="p">;</span>  
 <span class="o">}</span>  
...  
            
</pre></table></code></div></div></ul><h2 id="nginx-재시작">nginx 재시작</h2><ul><li>설명<ul><li>nginx 설정 변경 후에는 재시작을 해줘야 적용이 된다.</ul><li>명령<div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># 설정이 올바른지 확인  </span>
nginx <span class="nt">-t</span>   
            
<span class="c"># nginx 재시작  </span>
service nginx restart  
</pre></table></code></div></div></ul><h2 id="참고">참고</h2><ul><li><a href="https://serverfault.com/questions/915918/nginx-reverse-proxy-is-trying-to-access-backend-over-ip-instead-of-domain-name" target="_blank">Nginx - Reverse Proxy is trying to access backend over IP instead of domain name</a><li><a href="https://stackoverflow.com/questions/38375588/nginx-reverse-proxy-to-heroku-fails-ssl-handshake" target="_blank">Nginx reverse proxy to Heroku fails SSL handshake</a><li><a href="https://bcdragonfly.tistory.com/70" target="_blank">[Nginx] 1 an upstream response is buffered to a temporary file 프록시 버퍼 문제</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/nginx/'>Nginx</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/nginx/" class="post-tag no-text-decoration" >nginx</a> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/cloudfront/" class="post-tag no-text-decoration" >cloudfront</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=nginx, AWS cloudfront로 리버스 프록시 설정 에러 - 의사줌치&url=https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=nginx, AWS cloudfront로 리버스 프록시 설정 에러 - 의사줌치&u=https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=nginx, AWS cloudfront로 리버스 프록시 설정 에러 - 의사줌치&url=https://a3magic3pocket.github.io/posts/nginx-aws-cloudfront-reverse-proxy-error/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kafka-large-scale-event-processing-architecture-and-performance-comparison/">Kafka를 활용한 대용량 이벤트 처리 구조 설계와 성능 비교</a><li><a href="/posts/experimenting-with-blue-green-deployments/">블루 - 그린 배포 실험</a><li><a href="/posts/spring-kafka-latest-message-pub-sub-config/">Spring Kafka에서 최신 메시지만 소비하는 Pub/Sub 방식 설정</a><li><a href="/posts/solving-concurrency-problems-with-performance-in-mind/">동시성 문제 해결 방안 성능 실험</a><li><a href="/posts/exploring-authentication-options/">인증방식 고민</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/kafka/">kafka</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/elk/">elk</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/summary/">summary</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/kafka-streams/">kafka-streams</a> <a class="post-tag" href="/tags/nest/">nest</a> <a class="post-tag" href="/tags/react/">react</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/github-webhook/"><div class="card-body"> <span class="timeago small" > Oct 9, 2021 <i class="unloaded">2021-10-09T23:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>github webhook을 이용한 원격서버 배포 자동화(AWS)</h3><div class="text-muted small"><p> 개요 코드를 수정하고 테스트 서버에 반영하는데 매번 똑같은 pull 명령만 날리는 것 같아 이를 자동화했다. github webhook을 이용하면 git remote repo에서 push가 발생했을 때 지정한 주소로 post 명령을 날려준다. 테스트 서버에서는 github webhook을 바라 보고 있는 작은 웹서버를 구동하다가, 요청이 ...</p></div></div></a></div><div class="card"> <a href="/posts/cerbot-webroot/"><div class="card-body"> <span class="timeago small" > Nov 20, 2023 <i class="unloaded">2023-11-20T18:28:45+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>certbot, webroot 방식으로 인증서 발급받기</h3><div class="text-muted small"><p> 설명 webroot 방식으로 certbot 인증서를 발급받는다. certbot 도커를 활용하여 인증서를 발급 받는다. 예시에서 인증 받을 도메인은 helloworld.com으로 가정한다. 사전 준비 nginx를 띄우고 Route 53 DNS에서 서버IP와 도메인을 연결한다. 이를 통해 도메인을 입력하여 서버로 http 접속이 가능...</p></div></div></a></div><div class="card"> <a href="/posts/cerbot-route53/"><div class="card-body"> <span class="timeago small" > Nov 20, 2023 <i class="unloaded">2023-11-20T18:29:45+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>certbot, DNS 인증 시 자동 갱신하게 만들기(AWS Route 53)</h3><div class="text-muted small"><p> 설명 certbot에서는 여러 방식으로 웹서버 소유권 인증을 지원한다. getting-certificates-and-choosing-plugins 와일드카드 인증서를 발급받기 위해서는 DNS를 사용하여 인증을 받아야 한다. 여러 DNS를 지원하지만 여기서는 AWS Route53 기준으로 설명한다. 최초 발급 방법과 자동갱신 방법을 함...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/windows-d-drive-npm-error/" class="btn btn-outline-primary" prompt="Older"><p>windows-nvm d drive 설치 시 npm 인식 못하는 이슈</p></a> <a href="/posts/javascript-instance-inject-window/" class="btn btn-outline-primary" prompt="Newer"><p>javascript, 개별 instance를 전역에서 접근할 수 있도록 변경</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/a3magic3pocket">의사줌치</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/kafka/">kafka</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/elk/">elk</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/summary/">summary</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/kafka-streams/">kafka streams</a> <a class="post-tag" href="/tags/nest/">nest</a> <a class="post-tag" href="/tags/react/">react</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://a3magic3pocket.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
